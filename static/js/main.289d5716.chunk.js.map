{"version":3,"sources":["helpers/index.js","components/square.js","components/board.js","pieces/piece.js","pieces/king.js","components/fallen-soldier-block.js","pieces/bishop.js","pieces/knight.js","pieces/pawn.js","pieces/queen.js","pieces/rook.js","helpers/board-initialiser.js","components/game.js","reportWebVitals.js","index.js"],"names":["diagonalDictionaryTLBR","require","diagonalDictionaryTRBL","rowDictionary","columnDictionary","module","exports","isSameRow","src","dest","isSameColumn","isSameDiagonal","isPathClean","srcToDestPath","squares","reduce","acc","curr","Square","props","className","shade","onClick","style","keyVal","Board","i","squareShade","this","board","squareRows","j","isEven","push","renderSquare","React","Component","num","Piece","player","iconUrl","backgroundImage","King","FallenSoldierBlock","square","piece","whiteFallenSoldiers","map","ws","index","blackFallenSoldiers","bs","Bishop","getSrcToDestPath","pathStart","pathEnd","incrementBy","path","Math","abs","Knight","Pawn","initialPositions","1","2","isDestEnemyOccupied","indexOf","Queen","Rook","initialiseChessBoard","Array","fill","Game","state","sourceSelection","status","turn","backgroundColor","setState","Boolean","isMovePossible","isCheckForPlayer","oldState","getPlayer","opponent","playersKingPosition","getKingPosition","idx","handleClick","id","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.289d5716.chunk.js","sourcesContent":["const diagonalDictionaryTLBR = require('../dictionaries/diagonalTopLeftBottomRight.json');\nconst diagonalDictionaryTRBL = require('../dictionaries/diagonalTopRightBottomLeft.json');\nconst rowDictionary = require('../dictionaries/row.json');\nconst columnDictionary = require('../dictionaries/column.json');\n\nconst isSameRow = (src, dest) => {\n  return !!(rowDictionary[src] && rowDictionary[src][dest]);\n}\n\nconst isSameColumn = (src, dest) => {\n  return !!(columnDictionary[src] && columnDictionary[src][dest]);\n}\n\nconst isSameDiagonal = (src, dest) => {\n  return !!((diagonalDictionaryTLBR[src] && diagonalDictionaryTLBR[src][dest]) ||\n    (diagonalDictionaryTRBL[src] && diagonalDictionaryTRBL[src][dest]))\n}\n\nconst isPathClean = (srcToDestPath, squares) => srcToDestPath.reduce((acc, curr) => !squares[curr] && acc, true)\n\n\nmodule.exports = {\n  isSameRow,\n  isSameColumn,\n  isSameDiagonal,\n  isPathClean\n}","import React from 'react';\n\n// import '../index.css';\n\nexport default function Square(props) {\n\n  return (\n    <button className={\"square \" + props.shade}\n      onClick={props.onClick}\n      style={props.style}\n      key={props.keyVal}\n    >\n\n    </button>\n  );\n\n}\n","import React from 'react';\n\nimport '../index.css';\nimport Square from './square.js';\n\nexport default class Board extends React.Component {\n\n  renderSquare(i, squareShade) {\n    return <Square\n      key={i}\n      keyVal={i}\n      style={this.props.squares[i] ? this.props.squares[i].style : null}\n      shade={squareShade}\n      onClick={() => this.props.onClick(i)}\n    />\n  }\n\n  render() {\n    const board = [];\n    for (let i = 0; i < 8; i++) {\n      const squareRows = [];\n      for (let j = 0; j < 8; j++) {\n        const squareShade = (isEven(i) && isEven(j)) || (!isEven(i) && !isEven(j)) ? \"light-square\" : \"dark-square\";\n        squareRows.push(this.renderSquare((i * 8) + j, squareShade));\n      }\n      board.push(<div className=\"board-row\" key={i}>{squareRows}</div>)\n    }\n\n    return (\n      <div>\n        {board}\n      </div>\n    );\n  }\n}\n\n\nfunction isEven(num) {\n  return num % 2 === 0\n}","export default class Piece {\n  constructor(player, iconUrl) {\n    this.player = player;\n    this.style = { backgroundImage: \"url('\" + iconUrl + \"')\" };\n  }\n\n  getPlayer() {\n    return this.player\n  }\n}","import Piece from './piece.js';\nimport { isSameDiagonal, isSameRow } from '../helpers'\n\nexport default class King extends Piece {\n  constructor(player) {\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg\"));\n  }\n\n  isMovePossible(src, dest) {\n    return ((src - 9 === dest && isSameDiagonal(src, dest)) ||\n      src - 8 === dest ||\n      (src - 7 === dest && isSameDiagonal(src, dest)) ||\n      (src + 1 === dest && isSameRow(src, dest)) ||\n      (src + 9 === dest && isSameDiagonal(src, dest)) ||\n      src + 8 === dest ||\n      (src + 7 === dest && isSameDiagonal(src, dest)) ||\n      (src - 1 === dest && isSameRow(src, dest)))\n  }\n\n  /**\n   * always returns empty array because of one step\n   * @return {[]}\n   */\n  getSrcToDestPath(src, dest) {\n    return [];\n  }\n}\n","import React from 'react';\n\nimport '../index.css';\nimport Square from './square.js';\n\nexport default class FallenSoldierBlock extends React.Component {\n\n  renderSquare(square, i, squareShade) {\n    return <Square\n      key={i}\n      keyVal={i}\n      piece={square}\n      style={square.style}\n    />\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">{this.props.whiteFallenSoldiers.map((ws, index) =>\n          this.renderSquare(ws, index)\n        )}</div>\n        <div className=\"board-row\">{this.props.blackFallenSoldiers.map((bs, index) =>\n          this.renderSquare(bs, index)\n        )}</div>\n      </div>\n    );\n  }\n}\n\n","import Piece from './piece.js';\nimport { isSameDiagonal, isPathClean } from '../helpers'\n\nexport default class Bishop extends Piece {\n  constructor(player) {\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg\"));\n  }\n\n  isMovePossible(src, dest, squares) {\n    return isPathClean(this.getSrcToDestPath(src, dest), squares) && isSameDiagonal(src, dest)\n  }\n\n  /**\n   * get path between src and dest \n   * @param  {num} src  \n   * @param  {num} dest \n   * @return {[array]}      \n   */\n  getSrcToDestPath(src, dest) {\n    let path = [], pathStart, pathEnd, incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    }\n    else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 9 === 0) {\n      incrementBy = 9;\n      pathStart += 9;\n    }\n    else {\n      incrementBy = 7;\n      pathStart += 7;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n","import Piece from './piece.js';\nimport { isSameRow } from '../helpers'\n\nexport default class Knight extends Piece {\n  constructor(player) {\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg\"));\n  }\n\n  isMovePossible(src, dest) {\n    return ((src - 17 === dest && !isSameRow(src, dest)) ||\n      (src - 10 === dest && !isSameRow(src, dest)) ||\n      (src + 6 === dest && !isSameRow(src, dest)) ||\n      (src + 15 === dest && !isSameRow(src, dest)) ||\n      (src - 15 === dest && !isSameRow(src, dest)) ||\n      (src - 6 === dest && !isSameRow(src, dest)) ||\n      (src + 10 === dest && !isSameRow(src, dest)) ||\n      (src + 17 === dest && !isSameRow(src, dest)))\n  }\n\n  /**\n   * always returns empty array because of jumping\n   * @return {[]}\n   */\n  getSrcToDestPath() {\n    return [];\n  }\n}\n","import Piece from './piece.js';\nimport { isSameDiagonal } from '../helpers'\n\nexport default class Pawn extends Piece {\n  constructor(player) {\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\"));\n    this.initialPositions = {\n      1: [48, 49, 50, 51, 52, 53, 54, 55],\n      2: [8, 9, 10, 11, 12, 13, 14, 15]\n    }\n  }\n\n  isMovePossible(src, dest, isDestEnemyOccupied) {\n\n    if (this.player === 1) {\n      if ((dest === src - 8 && !isDestEnemyOccupied) || (dest === src - 16 && !isDestEnemyOccupied && this.initialPositions[1].indexOf(src) !== -1)) {\n        return true;\n      }\n      else if (isDestEnemyOccupied && isSameDiagonal(src, dest) && (dest === src - 9 || dest === src - 7)) {\n        return true;\n      }\n    }\n    else if (this.player === 2) {\n      if ((dest === src + 8 && !isDestEnemyOccupied) || (dest === src + 16 && !isDestEnemyOccupied && this.initialPositions[2].indexOf(src) !== -1)) {\n        return true;\n      }\n      else if (isDestEnemyOccupied && isSameDiagonal(src, dest) && (dest === src + 9 || dest === src + 7)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * returns array of one if pawn moves two steps, else returns empty array  \n   * @param  {[type]} src  [description]\n   * @param  {[type]} dest [description]\n   * @return {[type]}      [description]\n   */\n  getSrcToDestPath(src, dest) {\n    if (dest === src - 16) {\n      return [src - 8];\n    }\n    else if (dest === src + 16) {\n      return [src + 8];\n    }\n    return [];\n  }\n}\n","import Piece from './piece.js';\nimport { isSameRow, isSameColumn, isSameDiagonal, isPathClean } from '../helpers'\n\nexport default class Queen extends Piece {\n  constructor(player) {\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg\"));\n  }\n\n  isMovePossible(src, dest, squares) {\n    return isPathClean(this.getSrcToDestPath(src, dest), squares) && (isSameDiagonal(src, dest) || isSameRow(src, dest) || isSameColumn(src, dest));\n  }\n\n  /**\n   * get path between src and dest (src and dest exclusive)\n   * @param  {num} src  \n   * @param  {num} dest \n   * @return {[array]}      \n   */\n  getSrcToDestPath(src, dest) {\n    let path = [], pathStart, pathEnd, incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    }\n    else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 8 === 0) {\n      incrementBy = 8;\n      pathStart += 8;\n    }\n    else if (Math.abs(src - dest) % 9 === 0) {\n      incrementBy = 9;\n      pathStart += 9;\n    }\n    else if (Math.abs(src - dest) % 7 === 0) {\n      incrementBy = 7;\n      pathStart += 7;\n    }\n    else {\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}","import Piece from './piece.js';\nimport { isSameRow, isSameColumn,isPathClean } from '../helpers'\n\nexport default class Rook extends Piece {\n  constructor(player) {\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg\"));\n  }\n\n  isMovePossible(src, dest, squares) {\n    return isPathClean(this.getSrcToDestPath(src, dest), squares) && (isSameColumn(src, dest) || isSameRow(src, dest));\n  }\n\n  /**\n   * get path between src and dest (src and dest exclusive)\n   * @param  {num} src  \n   * @param  {num} dest \n   * @return {[array]}      \n   */\n  getSrcToDestPath(src, dest) {\n    let path = [], pathStart, pathEnd, incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    }\n    else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 8 === 0) {\n      incrementBy = 8;\n      pathStart += 8;\n    }\n    else {\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n","import Bishop from '../pieces/bishop.js';\nimport King from '../pieces/king.js';\nimport Knight from '../pieces/knight.js';\nimport Pawn from '../pieces/pawn.js';\nimport Queen from '../pieces/queen.js';\nimport Rook from '../pieces/rook.js';\n\nexport default function initialiseChessBoard() {\n  const squares = Array(64).fill(null);\n\n  for (let i = 8; i < 16; i++) {\n    squares[i] = new Pawn(2);\n    squares[i + 40] = new Pawn(1);\n  }\n  squares[0] = new Rook(2);\n  squares[7] = new Rook(2);\n  squares[56] = new Rook(1);\n  squares[63] = new Rook(1);\n\n  squares[1] = new Knight(2);\n  squares[6] = new Knight(2);\n  squares[57] = new Knight(1);\n  squares[62] = new Knight(1);\n\n  squares[2] = new Bishop(2);\n  squares[5] = new Bishop(2);\n  squares[58] = new Bishop(1);\n  squares[61] = new Bishop(1);\n\n  squares[3] = new Queen(2);\n  squares[4] = new King(2);\n\n  squares[59] = new Queen(1);\n  squares[60] = new King(1);\n\n  return squares;\n}","import React from 'react';\n\nimport '../index.css';\nimport Board from './board.js';\nimport King from '../pieces/king'\nimport FallenSoldierBlock from './fallen-soldier-block.js';\nimport initialiseChessBoard from '../helpers/board-initialiser.js';\n\nexport default class Game extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      squares: initialiseChessBoard(),\n      whiteFallenSoldiers: [],\n      blackFallenSoldiers: [],\n      player: 1,\n      sourceSelection: -1,\n      status: '',\n      turn: 'white'\n    }\n  }\n\n  handleClick(i) {\n    const squares = [...this.state.squares];\n\n    if (this.state.sourceSelection === -1) {\n      if (!squares[i] || squares[i].player !== this.state.player) {\n        this.setState({ status: \"Wrong selection. Choose player \" + this.state.player + \" pieces.\" });\n        if (squares[i]) {\n          squares[i].style = { ...squares[i].style, backgroundColor: \"\" };\n        }\n      }\n      else {\n        squares[i].style = { ...squares[i].style, backgroundColor: \"RGB(111,143,114)\" }; // Emerald from http://omgchess.blogspot.com/2015/09/chess-board-color-schemes.html\n        this.setState({\n          status: \"Choose destination for the selected piece\",\n          sourceSelection: i\n        })\n      }\n      return\n    }\n\n    squares[this.state.sourceSelection].style = { ...squares[this.state.sourceSelection].style, backgroundColor: \"\" };\n\n    if (squares[i] && squares[i].player === this.state.player) {\n      this.setState({\n        status: \"Wrong selection. Choose valid source and destination again.\",\n        sourceSelection: -1,\n      });\n    }\n    else {\n\n      const whiteFallenSoldiers = [];\n      const blackFallenSoldiers = [];\n      const isDestEnemyOccupied = Boolean(squares[i]);\n      const isMovePossible = squares[this.state.sourceSelection].isMovePossible(this.state.sourceSelection, i, isDestEnemyOccupied);\n\n      if (isMovePossible) {\n        if (squares[i] !== null) {\n          if (squares[i].player === 1) {\n            whiteFallenSoldiers.push(squares[i]);\n          }\n          else {\n            blackFallenSoldiers.push(squares[i]);\n          }\n        }\n\n        squares[i] = squares[this.state.sourceSelection];\n        squares[this.state.sourceSelection] = null;\n\n        const isCheckMe = this.isCheckForPlayer(squares, this.state.player)\n\n        if (isCheckMe) {\n          this.setState(oldState => ({\n            status: \"Wrong selection. Choose valid source and destination again. Now you have a check!\",\n            sourceSelection: -1,\n          }))\n        } else {\n          let player = this.state.player === 1 ? 2 : 1;\n          let turn = this.state.turn === 'white' ? 'black' : 'white';\n\n          this.setState(oldState => ({\n            sourceSelection: -1,\n            squares,\n            whiteFallenSoldiers: [...oldState.whiteFallenSoldiers, ...whiteFallenSoldiers],\n            blackFallenSoldiers: [...oldState.blackFallenSoldiers, ...blackFallenSoldiers],\n            player,\n            status: '',\n            turn\n          }));\n        }\n      }\n      else {\n        this.setState({\n          status: \"Wrong selection. Choose valid source and destination again.\",\n          sourceSelection: -1,\n        });\n      }\n    }\n  }\n\n  getKingPosition(squares, player) {\n    return squares.reduce((acc, curr, i) =>\n      acc || //King may be only one, if we had found it, returned his position\n      ((curr //current squre mustn't be a null\n        && (curr.getPlayer() === player)) //we are looking for aspecial king \n        && (curr instanceof King)\n        && i), // returned position if all conditions are completed\n      null)\n  }\n\n  isCheckForPlayer(squares, player) {\n    const opponent = player === 1 ? 2 : 1\n    const playersKingPosition = this.getKingPosition(squares, player)\n    const canPieceKillPlayersKing = (piece, i) => piece.isMovePossible(playersKingPosition, i, squares)\n    return squares.reduce((acc, curr, idx) =>\n      acc ||\n      (curr &&\n        (curr.getPlayer() === opponent) &&\n        canPieceKillPlayersKing(curr, idx)\n        && true),\n      false)\n  }\n\n  render() {\n\n    return (\n      <div>\n        <div className=\"game\">\n          <div className=\"game-board\">\n            <Board\n              squares={this.state.squares}\n              onClick={(i) => this.handleClick(i)}\n            />\n          </div>\n          <div className=\"game-info\">\n            <h3>Turn</h3>\n            <div id=\"player-turn-box\" style={{ backgroundColor: this.state.turn }}>\n\n            </div>\n            <div className=\"game-status\">{this.state.status}</div>\n\n            <div className=\"fallen-soldier-block\">\n\n              {<FallenSoldierBlock\n                whiteFallenSoldiers={this.state.whiteFallenSoldiers}\n                blackFallenSoldiers={this.state.blackFallenSoldiers}\n              />\n              }\n            </div>\n\n          </div>\n        </div>\n\n        \n      </div>\n\n\n    );\n  }\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Game from \"./components/game\"\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Game />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}